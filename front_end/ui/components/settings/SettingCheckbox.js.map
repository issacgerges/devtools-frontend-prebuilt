{"version":3,"file":"SettingCheckbox.js","sourceRoot":"","sources":["../../../../../../../front_end/ui/components/settings/SettingCheckbox.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAG7B,OAAO,KAAK,gBAAgB,MAAM,qCAAqC,CAAC;AACxE,OAAO,KAAK,OAAO,MAAM,4BAA4B,CAAC;AAEtD,OAAO,qBAAqB,MAAM,0BAA0B,CAAC;AAW7D;;GAEG;AACH,MAAM,OAAO,eAAgB,SAAQ,WAAW;IAC9C,MAAM,CAAU,UAAU,GAAG,OAAO,CAAC,OAAO,CAAA,kBAAkB,CAAC;IAC9C,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC,CAAC;IAEpD,OAAO,CAAoC;IAC3C,QAAQ,GAAY,KAAK,CAAC;IAC1B,wBAAwB,CAAsC;IAEtE,iBAAiB;QACf,IAAI,CAAC,MAAM,CAAC,kBAAkB,GAAG,CAAC,qBAAqB,CAAC,CAAC;IAC3D,CAAC;IAED,IAAI,IAAI,CAAC,IAAyB;QAChC,IAAI,IAAI,CAAC,wBAAwB,IAAI,IAAI,CAAC,OAAO,EAAE;YACjD,IAAI,CAAC,OAAO,CAAC,oBAAoB,CAAC,IAAI,CAAC,wBAAwB,CAAC,QAAQ,CAAC,CAAC;SAC3E;QAED,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAC5B,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAEvC,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,GAAG,EAAE;YAClE,IAAI,CAAC,MAAM,EAAE,CAAC;QAChB,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAEO,MAAM;QACZ,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACjB,MAAM,IAAI,KAAK,CAAC,4CAA4C,CAAC,CAAC;SAC/D;QAED,OAAO,CAAC,MAAM,CACV,OAAO,CAAC,IAAI,CAAA;;;4CAGwB,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,cAAc,IAAI,CAAC,QAAQ,aAC7E,IAAI,CAAC,eAAe,iBAAiB,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,QAAQ,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE;;WAEtF,EACH,IAAI,CAAC,MAAM,EAAE,EAAC,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;IACjC,CAAC;IAEO,eAAe,CAAC,CAAQ;QAC9B,IAAI,CAAC,OAAO,EAAE,GAAG,CAAE,CAAC,CAAC,MAA2B,CAAC,OAAO,CAAC,CAAC;IAC5D,CAAC;;AAGH,gBAAgB,CAAC,cAAc,CAAC,eAAe,CAAC,kBAAkB,EAAE,eAAe,CAAC,CAAC","sourcesContent":["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport type * as Common from '../../../core/common/common.js';\nimport * as ComponentHelpers from '../../components/helpers/helpers.js';\nimport * as LitHtml from '../../lit-html/lit-html.js';\n\nimport settingCheckboxStyles from './settingCheckbox.css.js';\n\nexport interface SettingCheckboxData {\n  setting: Common.Settings.Setting<boolean>;\n  /**\n   * If set to true, the checkbox is disabled and not clickable by the user.\n   * The checkbox will still reflect the current value of the setting (i.e. checked/unchecked).\n   */\n  disabled?: boolean;\n}\n\n/**\n * A simple checkbox that is backed by a boolean setting.\n */\nexport class SettingCheckbox extends HTMLElement {\n  static readonly litTagName = LitHtml.literal`setting-checkbox`;\n  private readonly shadow = this.attachShadow({mode: 'open'});\n\n  private setting?: Common.Settings.Setting<boolean>;\n  private disabled: boolean = false;\n  private changeListenerDescriptor?: Common.EventTarget.EventDescriptor;\n\n  connectedCallback(): void {\n    this.shadow.adoptedStyleSheets = [settingCheckboxStyles];\n  }\n\n  set data(data: SettingCheckboxData) {\n    if (this.changeListenerDescriptor && this.setting) {\n      this.setting.removeChangeListener(this.changeListenerDescriptor.listener);\n    }\n\n    this.setting = data.setting;\n    this.disabled = Boolean(data.disabled);\n\n    this.changeListenerDescriptor = this.setting.addChangeListener(() => {\n      this.render();\n    });\n    this.render();\n  }\n\n  private render(): void {\n    if (!this.setting) {\n      throw new Error('No \"Setting\" object provided for rendering');\n    }\n\n    LitHtml.render(\n        LitHtml.html`\n      <p>\n        <label>\n          <input type=\"checkbox\" ?checked=${this.setting.get()} ?disabled=${this.disabled} @change=\"${\n            this.checkboxChanged}\" aria-label=\"${this.setting.title()}\" /> ${this.setting.title()}\n        </label>\n      </p>`,\n        this.shadow, {host: this});\n  }\n\n  private checkboxChanged(e: Event): void {\n    this.setting?.set((e.target as HTMLInputElement).checked);\n  }\n}\n\nComponentHelpers.CustomElements.defineComponent('setting-checkbox', SettingCheckbox);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'setting-checkbox': SettingCheckbox;\n  }\n}\n"]}